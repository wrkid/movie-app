{"ast":null,"code":"export default class ApiService {\n  constructor() {\n    this._apiBase = `https://api.themoviedb.org/3/search/movie?query=`;\n    this._options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNTZmMTZkYTdhYzUwNmY2NWEzYTIxZmYyZTY3MWMzMCIsInN1YiI6IjY1MjgwNmUzMWYzZTYwMDBmZjg0N2JkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eCyuatovTMylls3DwByDpOX5YNu5nQhE6wZmhggwJIs'\n      }\n    };\n    this._testResult = {\n      page: 1,\n      results: [{\n        id: 1,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 2,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 3,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }],\n      total_pages: 2,\n      total_results: 25\n    };\n  }\n  async getResource(url) {\n    const res = await fetch(url, this._options);\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n    return res.json();\n  }\n  async getMovie(url) {\n    const res = await fetch(url, this._options);\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n    return res.json();\n  }\n  getAllMoviesTest() {\n    return this._testResult;\n  }\n  async getAllMovies(movieName = '#', page = 1) {\n    const result = await this.getResource(`${this._apiBase}${movieName}&page=${page}`).then(res => res);\n    return result;\n  }\n  async getMovieById(id) {\n    const result = await this.getMovie(!URL(id)).then(res => res);\n    return result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async addRatedMovie(id) {\n    const prevItems = localStorage.getItem('ratedFilms');\n    if (!prevItems) {\n      const newItems = [id];\n      localStorage.setItem('ratedFilms', newItems);\n    } else {\n      const newItems = [...prevItems, id];\n      localStorage.setItem('ratedFilms', newItems);\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getRatedFilms() {\n    const items = localStorage.getItem('ratedFilms');\n    if (!items) {\n      return [];\n    }\n    let result = [];\n    result = items.map(id => this.getMovieById(id));\n    return result;\n  }\n}","map":{"version":3,"names":["ApiService","constructor","_apiBase","_options","method","headers","accept","Authorization","_testResult","page","results","id","original_title","overview","poster_path","release_date","title","vote_average","total_pages","total_results","getResource","url","res","fetch","ok","Error","status","json","getMovie","getAllMoviesTest","getAllMovies","movieName","result","then","getMovieById","URL","addRatedMovie","prevItems","localStorage","getItem","newItems","setItem","getRatedFilms","items","map"],"sources":["/Users/w.k/Documents/git/movie-app/src/components/ApiService/api-service.jsx"],"sourcesContent":["export default class ApiService {\n  _apiBase = `https://api.themoviedb.org/3/search/movie?query=`;\n\n  _options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNTZmMTZkYTdhYzUwNmY2NWEzYTIxZmYyZTY3MWMzMCIsInN1YiI6IjY1MjgwNmUzMWYzZTYwMDBmZjg0N2JkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eCyuatovTMylls3DwByDpOX5YNu5nQhE6wZmhggwJIs',\n    },\n  };\n\n  _testResult = {\n    page: 1,\n    results: [\n      {\n        id: 1,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 2,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      },\n      {\n        id: 3,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 268,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      } \n    ],\n    total_pages: 2,\n    total_results: 25\n  }\n\n  async getResource(url) {\n    const res = await fetch(url, this._options);\n\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  async getMovie(url) {\n    const res = await fetch(url, this._options);\n\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  getAllMoviesTest() {\n    return this._testResult;\n  }\n\n  async getAllMovies(movieName = '#', page = 1) {\n    const result = await this.getResource(`${this._apiBase}${movieName}&page=${page}`).then(\n      (res) => res,\n    );\n    return result;\n  }\n\n  async getMovieById(id) {\n    const result = await this.getMovie(!URL(id)).then(\n      (res) => res\n    );\n\n    return result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async addRatedMovie(id) {\n    const prevItems = localStorage.getItem('ratedFilms');\n    if (!prevItems) {\n      const newItems = [id];\n      localStorage.setItem('ratedFilms', newItems)\n    } else {\n      const newItems = [...prevItems, id];\n      localStorage.setItem('ratedFilms', newItems);\n    }\n\n  } \n\n  // eslint-disable-next-line class-methods-use-this\n  async getRatedFilms() {\n    const items = localStorage.getItem('ratedFilms');\n    if (!items) {\n      return [];\n    }\n    let result = [];\n    result = items.map(id => this.getMovieById(id))\n    return result;\n  } \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}