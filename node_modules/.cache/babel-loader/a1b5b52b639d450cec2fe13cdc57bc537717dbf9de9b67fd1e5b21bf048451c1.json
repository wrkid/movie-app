{"ast":null,"code":"import noimg from '../MovieCard/noimg.png';\nexport default class ApiService {\n  constructor() {\n    this._apiBase = `https://api.themoviedb.org/3/`;\n    this._apiImg = `https://image.tmdb.org/t/p/original`;\n    this._options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNTZmMTZkYTdhYzUwNmY2NWEzYTIxZmYyZTY3MWMzMCIsInN1YiI6IjY1MjgwNmUzMWYzZTYwMDBmZjg0N2JkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eCyuatovTMylls3DwByDpOX5YNu5nQhE6wZmhggwJIs'\n      }\n    };\n    this._testResult = {\n      page: 1,\n      results: [{\n        id: 1,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 2,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 3,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 4,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 5,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 6,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 7,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 8,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 9,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 10,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 11,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 12,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 13,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 14,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 15,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 16,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 17,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 18,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 19,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, {\n        id: 20,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }],\n      total_pages: 2,\n      total_results: 25\n    };\n  }\n  async getResource(url) {\n    const res = await fetch(url, this._options);\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n    return res.json();\n  }\n  async getMovie(url) {\n    const res = await fetch(url, this._options);\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n    return res.json();\n  }\n  async getMovieImg(url) {\n    const res = await fetch(`${this._apiImg}${url}`).then(resolve => resolve.url);\n    if (!res.ok) {\n      return this.noimg;\n    }\n    return res.url;\n  }\n  getAllMoviesTest() {\n    return this._testResult;\n  }\n  getImg(url) {\n    // в апи\n    const img = this.getMovieImg(url).then(res => res.url);\n    if (!img.ok) {\n      return '.';\n    }\n    return img;\n  }\n  async getAllMovies(movieName = '#', page = 1) {\n    const result = await this.getResource(`${this._apiBase}search/movie?query=${movieName}&page=${page}`).then(res => res);\n    return result;\n  }\n  async getGenres() {\n    const result = await this.getResource(`${this._apiBase}genre/movie/list?language=en`).then(res => res.genres).catch(err => err.name);\n    return result;\n  }\n  async getMovieGenres(genreIds) {\n    // возвращает массив с названиями жанров у одного фильма\n    const result = await this.getGenres().then(genres => genreIds.map(id => {\n      const idx = genres.findIndex(el => el.id === id);\n      return genres[idx].name;\n    }));\n    return result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async addRatedMovie(data) {\n    const prevItems = JSON.parse(localStorage.getItem('ratedFilms'));\n    if (!prevItems) {\n      const ratedFilms = {\n        page: 1,\n        results: [data],\n        total_pages: 1,\n        total_results: 1\n      };\n      localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms));\n    } else {\n      const idx = prevItems.results.findIndex(el => el.id === data.id);\n      if (idx === -1) {\n        const newResults = [...prevItems.results, data];\n        const newTotalResults = prevItems.total_results + 1;\n        const ratedFilms = {\n          ...prevItems,\n          total_results: newTotalResults,\n          results: newResults\n        };\n        localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms));\n      } else {\n        const newResults = prevItems.results.with(idx, data);\n        const ratedFilms = {\n          ...prevItems,\n          results: newResults\n        };\n        localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms));\n      }\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getRatedFilms() {\n    const items = JSON.parse(localStorage.getItem('ratedFilms')).results;\n    if (!items) {\n      return [];\n    }\n    return items;\n  }\n}","map":{"version":3,"names":["noimg","ApiService","constructor","_apiBase","_apiImg","_options","method","headers","accept","Authorization","_testResult","page","results","id","original_title","overview","poster_path","release_date","title","vote_average","total_pages","total_results","getResource","url","res","fetch","ok","Error","status","json","getMovie","getMovieImg","then","resolve","getAllMoviesTest","getImg","img","getAllMovies","movieName","result","getGenres","genres","catch","err","name","getMovieGenres","genreIds","map","idx","findIndex","el","addRatedMovie","data","prevItems","JSON","parse","localStorage","getItem","ratedFilms","setItem","stringify","newResults","newTotalResults","with","getRatedFilms","items"],"sources":["/Users/w.k/Documents/git/movie-app/src/components/ApiService/api-service.jsx"],"sourcesContent":["import noimg from '../MovieCard/noimg.png'\n\nexport default class ApiService {\n  _apiBase = `https://api.themoviedb.org/3/`;\n\n  _apiImg = `https://image.tmdb.org/t/p/original`;\n\n  _options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNTZmMTZkYTdhYzUwNmY2NWEzYTIxZmYyZTY3MWMzMCIsInN1YiI6IjY1MjgwNmUzMWYzZTYwMDBmZjg0N2JkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eCyuatovTMylls3DwByDpOX5YNu5nQhE6wZmhggwJIs',\n    },\n  };\n\n  _testResult = {\n    page: 1,\n    results: [\n      {\n        id: 1,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 2,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      },\n      {\n        id: 3,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 4,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 5,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 6,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 7,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 8,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 9,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 10,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 11,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 12,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 13,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 14,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 15,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 16,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 17,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 18,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 19,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }, \n      {\n        id: 20,\n        original_title: \"Batman\",\n        overview: \"Batman must face his most ruthless nemesis when a deformed madman calling himself \\\"The Joker\\\" seizes control of Gotham's criminal underworld.\",\n        poster_path: \"/cij4dd21v2Rk2YtUQbV5kW69WB2.jpg\",\n        release_date: \"1989-06-21\",\n        title: \"Batman\",\n        vote_average: 7.215\n      }\n    ],\n    total_pages: 2,\n    total_results: 25\n  }\n\n  async getResource(url) {\n    const res = await fetch(url, this._options);\n\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  async getMovie(url) {\n    const res = await fetch(url, this._options);\n\n    if (!res.ok) {\n      throw new Error(`Couldn't fetch ${url}, recieved: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  async getMovieImg(url) {\n    const res = await fetch(`${this._apiImg}${url}`).then(resolve => resolve.url);\n\n    if(!res.ok) {\n      return this.noimg\n    }\n\n    return res.url\n  }\n\n  getAllMoviesTest() {\n    return this._testResult;\n  }\n\n  getImg(url) { // в апи\n    const img = this.getMovieImg(url).then(res => res.url)\n    if (!img.ok) {\n      return '.'\n    }\n    return img\n  };\n\n  async getAllMovies(movieName = '#', page = 1) {\n    const result = await this.getResource(`${this._apiBase}search/movie?query=${movieName}&page=${page}`).then(\n      (res) => res,\n    );\n    return result;\n  }\n\n  async getGenres() {\n    const result = await this.getResource(`${this._apiBase}genre/movie/list?language=en`)\n      .then((res) => res.genres)\n      .catch(err => err.name)\n    return result;\n  }\n\n  async getMovieGenres(genreIds) { // возвращает массив с названиями жанров у одного фильма\n    const result = await this.getGenres()\n      .then((genres) => \n        genreIds.map(id => {\n          const idx = genres.findIndex((el) => el.id === id);\n          return genres[idx].name;\n        }\n        ))\n    return result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async addRatedMovie(data) {\n    const prevItems = JSON.parse(localStorage.getItem('ratedFilms'));\n    if (!prevItems) {\n      const ratedFilms = {\n        page:1,\n        results: [data],\n        total_pages: 1,\n        total_results: 1\n      }\n      localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms))\n    } else {\n      const idx = prevItems.results.findIndex((el) => el.id === data.id);\n      if(idx === -1) {\n        const newResults = [...prevItems.results, data];\n        const newTotalResults = prevItems.total_results + 1;\n        const ratedFilms = {...prevItems, total_results: newTotalResults,results: newResults};\n        localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms))\n      } else {\n        const newResults = prevItems.results.with(idx, data);\n        const ratedFilms = {...prevItems,results: newResults};\n        localStorage.setItem('ratedFilms', JSON.stringify(ratedFilms))\n      }\n    }\n  } \n\n  // eslint-disable-next-line class-methods-use-this\n  getRatedFilms() {\n    const items = JSON.parse(localStorage.getItem('ratedFilms')).results;\n    if (!items) {\n      return [];\n    }\n    return items;\n  } \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}